<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Wishlist | Lumina</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Poppins:wght@300;400;500;600&display=swap">
  <link rel="stylesheet" href="style/base.css">
  <link rel="stylesheet" href="style/header.css">
  <link rel="stylesheet" href="style/products.css">
  <link rel="stylesheet" href="style/footer.css">
  <link rel="stylesheet" href="style/cart.css">
  <link rel="stylesheet" href="style/wishlist.css">
</head>
<body>
  <!-- Header -->
  <header>
    <div class="container header-container">
      <button class="mobile-menu-btn" id="mobileMenuBtn">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </button>
      <div class="div_flex">
        <div class="header_logo">
          <img src="./img/logo.png" class="header_logo" alt="">
        </div>
        <a href="index.html" class="logo">Lumina<span>.</span></a>
      </div>
      <nav id="mainNav">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="index.html#products">Shop</a></li>
          <li><a href="index.html#categories">Collections</a></li>
          <li><a href="#">About</a></li>
          <li><a href="contact.html">Contact</a></li>
          <li id="authLink">
            <a href="login.html" id="loginLink">Login</a>
            <a href="#" id="logoutLink" style="display: none;">Logout</a>
          </li>
        </ul>
      </nav>
      <div class="header-icons">
        <div class="header-icon" id="searchIcon">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="11" cy="11" r="8"></circle>
            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
          </svg>
        </div>
        <div class="header-icon" id="wishlistIcon">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
          </svg>
          <span class="wishlist-count" id="wishlistCount">0</span>
        </div>
        <div class="header-icon" id="cartIcon">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <path d="M16 10a4 4 0 0 1-8 0"></path>
          </svg>
          <span class="cart-count" id="cartCount">0</span>
        </div>
      </div>
    </div>
  </header>

  <!-- Wishlist Section -->
  <main class="container wishlist-container">
    <div class="wishlist-header">
      <h1>My Wishlist</h1>
      <p>Your favorite items all in one place</p>
    </div>
    
    <div id="wishlistGrid" class="products-grid">
      <!-- Wishlist products will be loaded here -->
    </div>
    
    <div id="emptyWishlist" class="empty-wishlist" style="display: none;">
      <div class="empty-icon">ü§ç</div>
      <h2>Your wishlist is empty</h2>
      <p>Start adding items you love!</p>
      <a href="index.html#products" class="btn btn-primary">Browse Products</a>
    </div>
  </main>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="footer-container">
        <div class="footer-col">
          <h3>Lumina</h3>
          <p>Handcrafted accessories for every occasion. Our pieces are designed to add that perfect finishing touch to your style.</p>
          <div class="social-links">
            <!-- Social links as in your other pages -->
          </div>
        </div>
        <!-- Other footer columns as in your other pages -->
      </div>
      <div class="copyright">
        <p>&copy; 2025 Lumina. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Cart Sidebar -->
  <div class="cart-sidebar" id="cartSidebar">
    <!-- Cart sidebar as in your other pages -->
  </div>

  <!-- Overlay -->
  <div class="overlay" id="overlay"></div>

  <script src="script.js"></script>
  <script>
    // Load wishlist from localStorage
    function loadWishlist() {
      const savedWishlist = localStorage.getItem('wishlist');
      return savedWishlist ? JSON.parse(savedWishlist) : [];
    }
    
    // Render wishlist products
    function renderWishlistPage() {
      const wishlistGrid = document.getElementById('wishlistGrid');
      const emptyWishlist = document.getElementById('emptyWishlist');
      const wishlist = loadWishlist();
      
      // Update wishlist count in header
      const wishlistCount = document.getElementById('wishlistCount');
      if (wishlistCount) {
        wishlistCount.textContent = wishlist.length;
      }
      
      if (wishlist.length === 0) {
        wishlistGrid.style.display = 'none';
        emptyWishlist.style.display = 'block';
        return;
      }
      
      wishlistGrid.style.display = 'grid';
      emptyWishlist.style.display = 'none';
      wishlistGrid.innerHTML = '';
      
      wishlist.forEach(product => {
        const card = document.createElement('div');
        card.className = 'product-card';
        card.innerHTML = `
          <div class="product-img">
            <img src="${product.image}" alt="${product.name}">
          </div>
          <div class="product-info">
            <h3 class="product-name">${product.name}</h3>
            <p class="product-category">${product.category}</p>
            <p class="product-price">$${product.price.toFixed(2)}</p>
            <div class="product-actions">
              <button class="add-to-cart" onclick="addToCartFromWishlist(${product.id})">
                üõí Add to Cart
              </button>
              <button class="wishlist-btn remove" onclick="removeFromWishlist(${product.id})">
                ‚ùå Remove
              </button>
            </div>
          </div>
        `;
        
        // Make the entire card clickable to go to product page
        card.addEventListener('click', (e) => {
          // Only navigate if the click wasn't on a button
          if (!e.target.closest('.product-actions')) {
            window.location.href = `product.html?id=${product.id}`;
          }
        });
        
        wishlistGrid.appendChild(card);
      });
    }
    
    // Remove from wishlist
    function removeFromWishlist(id) {
      let wishlist = loadWishlist();
      const index = wishlist.findIndex(p => p.id === id);
      
      if (index !== -1) {
        wishlist.splice(index, 1);
        localStorage.setItem('wishlist', JSON.stringify(wishlist));
        
        // Show notification
        const notification = document.createElement('div');
        notification.className = 'notification warning';
        notification.textContent = 'Removed from wishlist';
        document.body.appendChild(notification);
        
        setTimeout(() => {
          notification.classList.add('show');
        }, 100);
        
        setTimeout(() => {
          notification.classList.remove('show');
          setTimeout(() => {
            notification.remove();
          }, 300);
        }, 2000);
        
        // Re-render wishlist
        renderWishlistPage();
      }
    }
    
    // Add to cart from wishlist
    function addToCartFromWishlist(id) {
      const wishlist = loadWishlist();
      const product = wishlist.find(p => p.id === id);
      
      if (product) {
        // This would call your addToCart function from script.js
        alert(`Added ${product.name} to cart!`);
        
        // Show notification
        const notification = document.createElement('div');
        notification.className = 'notification';
        notification.textContent = `${product.name} added to cart`;
        document.body.appendChild(notification);
        
        setTimeout(() => {
          notification.classList.add('show');
        }, 100);
        
        setTimeout(() => {
          notification.classList.remove('show');
          setTimeout(() => {
            notification.remove();
          }, 300);
        }, 2000);
      }
    }
    
    document.addEventListener("DOMContentLoaded", renderWishlistPage);
  </script>
</body>
</html>